<h1><%= markdown_to_html @post.title %></h1>

<div class="row">
  <div class="col-md-8">
    
     <small>
       <%= image_tag(@post.user.avatar.tiny.url) if @post.user.avatar? %>
       submitted <%= time_ago_in_words(@post.created_at) %> ago by
       <%= @post.user.name %>
    </small>
    
    <p><%= markdown_to_html @post.body %></p>
    <%= image_tag(@post.image.small.url) if @post.image? %>
  </div>
  
<!--   Option Buttons, Edit Post  -->
  <div class="col-md-4">
<!--     <% if policy(@post).edit? %> Post Policy present based on edit action -->
      <%= link_to "Edit", edit_topic_post_path(@topic, @post), class: 'btn btn-success' %>
  </div>
</div>
<% end %>

<!-- Comments seciont, from for to create a comment is rendered. Also if there is already a comment it will be rendered partially. User will have access to it if it is present. -->
<!-- <% if policy(@comments).create? %> Comment Policy present, based on def create  -->
  <h2>Comments</h2>
      <%= render @comments %> 

<p>Add Comment</p>
      <%= render 'comments/form', topic: @topic, post: @post, comment: @comment %>
<% end %>


